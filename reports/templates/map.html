<!DOCTYPE html>
<html>
<head>
    <title>Nearby Issues</title>
    <style>
        body {
            font-family: sans-serif;
        }
        #map {
            height: 1000px;
            width: 100%;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h2>Nearby Issues</h2>
    <div id="map"></div>

    <script>
    function initMap() {
        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 12,
            center: {lat: 31.2518, lng: 34.7913},
        });

        const issues = [
            {
                position: {lat: 31.2519, lng: 34.7915},
                title: "Broken Traffic Light",
                description: "The traffic light at the main intersection is not working."
            },
            {
                position: {lat: 31.2500, lng: 34.7900},
                title: "Pothole",
                description: "Large pothole near the bus station."
            }
        ];

        issues.forEach(issue => {
            (function() {
                const marker = new google.maps.Marker({
                    position: issue.position,
                    map: map,
                    title: issue.title
                });

                const infoWindow = new google.maps.InfoWindow({
                    content: `
                        <div style="font-family: sans-serif;">
                            <strong>${issue.title}</strong><br>
                            <p>${issue.description}</p>
                        </div>`
                });

                marker.addListener("click", () => {
                    infoWindow.open(map, marker);
                });
            })();
        });
    }
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDlCLAutdnujjoTEDdpYwIUvOSTluY2rRQ&callback=initMap" async defer></script>
</body>
</html>
